# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - /debug/overfit
  - override /data: im1k
  - override /callbacks: training
  - override /trainer: gpu
  - override /logger: wandb
  - override /model: part_mae
  

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

tags: ["part", "overfit"]

seed: 12345
float32_matmul_precision: "high"

callbacks:
  reconstruction_logger:
    every_n_epochs: 50
  transform_logger:
    every_n_epochs: 50
  output_cache:
    every_n_epochs: 50

trainer:
  min_epochs: 400
  max_epochs: 1000
  limit_val_batches: 0
  limit_test_batches: 0
  check_val_every_n_epoch: 50
  deterministic: true

model:
  net:
    img_size: 224
    mask_ratio: 0.5
    pos_mask_ratio: 0.9


  optimizer:
    lr: 1e-4
  scheduler:
    warmup_t: 150


data:
  batch_size: 2
  num_workers: 0


logger:
  wandb:
    group: overfit_part_mae